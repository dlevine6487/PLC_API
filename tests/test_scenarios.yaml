test_cases:
  - id: TC_APP_LOAD_AND_CONNECT_001
    description: "Verify app launch, file load simulation, and connection attempt."
    resolutions:
      - [1600, 900]
    actions:
      # Step 1: Verify the initial splash screen is visible
      - type: "wait_for_selector"
        selector: "dropZone" # Using POM logical name
        description: "Wait for the initial file drop zone to be visible."

      # Step 2: Mock the file load by directly manipulating the DOM
      - type: "evaluate"
        script: |
          document.getElementById('drop-zone').style.display = 'none';
          document.getElementById('app-container').style.display = 'grid';
          document.getElementById('app-container').style.opacity = '1';
        description: "Mock file load by forcing the dashboard to be visible."

      # Step 3: Verify the main dashboard appears and the splash screen is gone
      - type: "wait_for_selector"
        selector: "appContainer" # Using POM logical name
        description: "Wait for the main application container to be visible."
      - type: "wait_for_hidden"
        selector: "dropZone" # Using POM logical name
        description: "Verify the file drop zone is now hidden."

      # Step 4: VISUAL TEST - Take a screenshot of the loaded dashboard
      - type: "screenshot"
        name: "main-dashboard-loaded"
        description: "Take a screenshot for visual verification."
        selector: "page" # Special selector for page-level actions

      # Step 5: Verify key dashboard elements are visible
      - type: "wait_for_selector"
        selector: "leftPanel" # Using POM logical name
        description: "Check for the left panel."
      - type: "wait_for_selector"
        selector: "connectButton" # Using POM logical name
        description: "Check for the 'Connect' button."

      # Step 6: Initiate connection
      - type: "click"
        selector: "connectButton" # Using POM logical name
        description: "Click the 'Connect' button."

      # Step 7: Interact with the connection modal
      - type: "wait_for_selector"
        selector: "connectModal" # Using POM logical name
        description: "Wait for the connection modal to appear."
      - type: "fill"
        selector: "connectModalIpInput" # Using POM logical name
        value: "192.168.0.100"
        description: "Enter IP address into the modal."
      - type: "click"
        selector: "connectModalConfirmButton" # Using POM logical name
        description: "Click the 'Connect' button in the modal."

      # Step 8: Verify the modal closes
      - type: "wait_for_hidden"
        selector: "connectModal" # Using POM logical name
        description: "Verify the connection modal is now hidden."

    backend_check: null
